{"version":3,"sources":["index.js"],"names":["handleLogin","username","$","val","password","get","url","statusCode","addClass","removeClass","fadeOut","show","beforeSend","apiCredentials","setRequestHeader","btoa","newArticleTemplate","element","title","pubDate","description","appendArticlesToList","data","searchLimit","pagination","total","i","template","documents","appendTo","attr","onclick","searchIndicator","errorMessage","handleSearch","searchWords","remove","hide","searchArticles","setTimeout","checkArticleAmount","limit","length","appendNewArticle","document","ready","click","keydown","enterKey","keyCode","enteredKey","focus","deletedArticles","newArticleAmountCounter","Number","callback","encodeURI","success"],"mappings":";AA4CA,SAASA,IACCC,IAAAA,EAAWC,EAAE,oBAAoBC,MACjCC,EAAWF,EAAE,oBAAoBC,MACvCD,EAAEG,IAAI,CACFC,IAAK,uDACLC,WAAY,CACH,IAAA,WACDL,EAAE,UAAUM,SAAS,kBACrBN,EAAE,WAAWM,SAAS,mBACtBN,EAAE,WAAWM,SAAS,mBACtBN,EAAE,oBAAoBM,SAAS,4BAC/BN,EAAE,oBAAoBM,SAAS,4BAC/BN,EAAE,yBAAyBM,SAAS,iCACpCN,EAAE,oBAAoBC,IAAI,IAC1BD,EAAE,oBAAoBC,IAAI,KAEzB,IAAA,WACYD,EAAE,UAAUO,YAAY,kBACxBP,EAAE,oBAAoBO,YAAY,4BAClCP,EAAE,oBAAoBO,YAAY,4BAClCP,EAAE,yBAAyBO,YAAY,iCACvCP,EAAE,WAAWO,YAAY,mBACzBP,EAAE,WAAWO,YAAY,mBACzBP,EAAE,UAAUQ,QAAQ,WAChBR,EAAE,kBAAkBS,WAI7CC,WAAY,SAAUC,GAClBA,EAAeC,iBAAiB,gBAAiB,SAAWC,KAAKd,EAAW,IAAMG,OAK9F,SAASY,EAAmBC,GACqEA,MAAAA,sFAAAA,OAAAA,EAAQC,MAAiBD,aAAAA,OAAAA,EAAQE,QAA2DF,qDAAAA,OAAAA,EAAQG,YAAjM,6JAGJ,SAASC,EAAqBC,GAEtBC,IAAAA,EAAcrB,EAAE,kBAAkBC,MAElCmB,GAAyB,GAAzBA,EAAKE,WAAWC,OAAcF,EAAc,EAAG,CAI1CG,IAHDH,EAAc,KACdA,EAAc,IAEbG,EAAI,EAAGA,EAAIH,EAAaG,IAAK,CAC1BT,IACAU,EAAWX,EADDM,EAAKM,UAAUF,IAG7BxB,EAAEyB,GAAUE,SAAS,kBACjB3B,EAAE,UAAU4B,KAAK,CACbC,QAAS,yDAGrBC,SAEAC,IAIR,SAASC,IAECC,IAAAA,EAAcjC,EAAE,gBAAgBC,MAEtCD,EAAE,4BAA4BkC,SAC9BlC,EAAE,qCAAqCmC,OACvCnC,EAAE,iCAAiCmC,OAEnCC,EAAeH,EAAad,GAKhC,SAASY,IACL/B,EAAE,gBAAgBM,SAAS,wBAC3BN,EAAE,mBAAmBM,SAAS,2BAC9BN,EAAE,kBAAkBM,SAAS,0BAC7BN,EAAE,qCAAqCS,OACvCT,EAAE,iCAAiCS,OACnCT,EAAE,WAAWM,SAAS,mBACtBN,EAAE,WAAWM,SAAS,mBACtB+B,WAAW,WACPrC,EAAE,gBAAgBO,YAAY,wBAC9BP,EAAE,mBAAmBO,YAAY,2BACjCP,EAAE,kBAAkBO,YAAY,0BAChCP,EAAE,WAAWO,YAAY,mBACzBP,EAAE,WAAWO,YAAY,mBACzBP,EAAE,gBAAgBC,IAAI,KACvB,KAIP,SAAS6B,IACL9B,EAAE,mBAAmBM,SAAS,0BAC9BN,EAAE,kBAAkBM,SAAS,yBAC7BN,EAAE,WAAWM,SAAS,kBACtBN,EAAE,WAAWM,SAAS,kBACtB+B,WAAW,WACPrC,EAAE,mBAAmBO,YAAY,0BACjCP,EAAE,kBAAkBO,YAAY,yBAChCP,EAAE,WAAWO,YAAY,kBACzBP,EAAE,WAAWO,YAAY,kBACzBP,EAAE,gBAAgBC,IAAI,KACvB,KAIP,SAASqC,IACCC,IAAAA,EAAQvC,EAAE,kBAAkBC,MAC9BD,EAAE,4BAA4BwC,OAASD,GAEvCH,EADoBpC,EAAE,gBAAgBC,MACVwC,GAEhCJ,WAAWC,EAAoB,KA9JnCtC,EAAE0C,UAAUC,MAAM,WAGd3C,EAAE,iBAAiBS,OACnBT,EAAE,kBAAkBmC,OACpBnC,EAAE,4BAA4BmC,OAC9BnC,EAAE,qCAAqCmC,OACvCnC,EAAE,iCAAiCmC,OAGnCnC,EAAE,yBAAyB4C,MAAM9C,GACjCE,EAAE,mBAAmB4C,MAAMZ,GAG3BhC,EAAE,oBAAoB6C,QAAQ,SAAUC,GACZ,IAApBA,EAASC,SACTjD,MAGRE,EAAE,oBAAoB6C,QAAQ,SAAUC,GACZ,IAApBA,EAASC,SACTjD,MAGRE,EAAE,oBAAoB6C,QAAQ,SAAUG,GACV,IAAtBA,EAAWD,SACX/C,EAAE,oBAAoBiD,UAG9BjD,EAAE,oBAAoB6C,QAAQ,SAAUG,GACV,IAAtBA,EAAWD,QACX/C,EAAE,yBAAyBiD,QACE,IAAtBD,EAAWD,SAClB/C,EAAE,oBAAoBiD,UAG9BjD,EAAE,yBAAyB6C,QAAQ,SAAUG,GACf,IAAtBA,EAAWD,SACX/C,EAAE,oBAAoBiD,YA4HlC,IAAIC,EAAkB,EAEtB,SAAST,EAAiBrB,GAClB+B,IAAAA,EAA0BC,OAAOpD,EAAE,kBAAkBC,OAASiD,EAE9DzB,EAAWX,EADDM,EAAKM,UAAUyB,IAE7BnD,EAAEyB,GAAUE,SAAS,kBACjB3B,EAAE,UAAU4B,KAAK,CACbC,QAAS,yDAEjBqB,IAGJ,SAASd,EAAeH,EAAaoB,GACjCrD,EAAE,qCAAqCmC,OACvCnC,EAAE,iCAAiCmC,OAC7BpC,IAAAA,EAAWC,EAAE,oBAAoBC,MACjCC,EAAWF,EAAE,oBAAoBC,MACvCmB,KAAOpB,EAAEG,IAAI,CACTC,IAAK,6DAA+DkD,UAAUrB,GAC9EvB,WAAY,SAAUC,GAClBA,EAAeC,iBAAiB,gBAAiB,SAAWC,KAAKd,EAAW,IAAMG,KAEtFqD,QAAS,SAAUnC,GACfiC,EAASjC,IAEbf,WAAY,CACH,IAAA,WACD0B,KAEC,IAAA,WACDA,KAEC,IAAA,WACDA","file":"newsPaperApp.ec33bda7.js","sourceRoot":"..","sourcesContent":["$(document).ready(function () {\n\n    // configure screens\n    $(\".loginSection\").show();\n    $(\".searchSection\").hide();\n    $(\".searchSection__articles\").hide();\n    $(\".searchSection__articles--invalid\").hide();\n    $(\".searchSection__main--invalid\").hide();\n\n    // register event handlers\n    $(\".login__confirmButton\").click(handleLogin);\n    $(\".search__button\").click(handleSearch);\n\n    // switch focus on input field and confirm username and password from any input field\n    $(\".login__username\").keydown(function (enterKey) {\n        if (enterKey.keyCode == 13) {\n            handleLogin();\n        }\n    })\n    $(\".login__password\").keydown(function (enterKey) {\n        if (enterKey.keyCode == 13) {\n            handleLogin();\n        }\n    })\n    $(\".login__username\").keydown(function (enteredKey) {\n        if (enteredKey.keyCode == 40) {\n            $('.login__password').focus()\n        }\n    })\n    $(\".login__password\").keydown(function (enteredKey) {\n        if (enteredKey.keyCode == 40) {\n            $('.login__confirmButton').focus()\n        } else if (enteredKey.keyCode == 38) {\n            $('.login__username').focus()\n        }\n    })\n    $(\".login__confirmButton\").keydown(function (enteredKey) {\n        if (enteredKey.keyCode == 38) {\n            $('.login__password').focus()\n        }\n    })\n\n});\n\nfunction handleLogin() {\n    const username = $('.login__username').val();\n    const password = $('.login__password').val();\n    $.get({\n        url: \"https://thawing-ridge-63424.herokuapp.com/api/search\",\n        statusCode: {\n            401: function () {\n                $(\".login\").addClass('login--invalid');\n                $(\".header\").addClass('header--invalid');\n                $(\".footer\").addClass('footer--invalid');\n                $(\".login__username\").addClass('login__username--invalid');\n                $(\".login__password\").addClass('login__password--invalid');\n                $(\".login__confirmButton\").addClass('login__confirmButton--invalid');\n                $(\".login__username\").val('');\n                $(\".login__password\").val('');\n            },\n            200: function () {\n                             $(\".login\").removeClass('login--invalid');\n                             $(\".login__username\").removeClass('login__username--invalid');\n                             $(\".login__password\").removeClass('login__password--invalid');\n                             $(\".login__confirmButton\").removeClass('login__confirmButton--invalid');\n                             $(\".header\").removeClass('header--invalid');\n                             $(\".footer\").removeClass('footer--invalid');\n                             $(\".login\").fadeOut(function () {\n                                 $(\".searchSection\").show();\n                             });\n                         }\n        },\n        beforeSend: function (apiCredentials) {\n            apiCredentials.setRequestHeader(\"Authorization\", \"Basic \" + btoa(username + \":\" + password));\n        }\n    });\n}\n\nfunction newArticleTemplate(element) {\n    return `<article class='searchSection__articles'><header class='searchSection__header'><h3>${element.title}</h3><h4>${element.pubDate}</h4></header><main class ='searchSection__main'>${element.description}</main><footer class='searchSection__footer'><a target='_blank' href='https://github.com/jpreuss00/Crawler'>Check out the Project!</a></footer></article>`;\n}\n\nfunction appendArticlesToList(data) {\n\n    var searchLimit = $('.search__limit').val();\n\n    if (data.pagination.total != 0 && searchLimit > 0) {\n        if (searchLimit > 99) {\n            searchLimit = 99\n        }\n        for (i = 0; i < searchLimit; i++) {\n            let element = data.documents[i];\n            let template = newArticleTemplate(element);\n\n            $(template).appendTo(\".searchSection\"),\n                $(\"header\").attr({\n                    onclick: '$(this).closest(\".searchSection__articles\").remove()'\n                })\n        }\n        searchIndicator();\n    } else {\n        errorMessage();\n    }\n}\n\nfunction handleSearch() {\n\n    const searchWords = $('.search__bar').val();\n\n    $(\".searchSection__articles\").remove();\n    $(\".searchSection__articles--invalid\").hide();\n    $(\".searchSection__main--invalid\").hide();\n\n    searchArticles(searchWords, appendArticlesToList);\n\n    //setTimeout(checkArticleAmount, 500);\n}\n\nfunction errorMessage() {\n    $(\".search__bar\").addClass('search__bar--invalid');\n    $(\".search__button\").addClass('search__button--invalid');\n    $(\".search__limit\").addClass('search__limit--invalid');\n    $(\".searchSection__articles--invalid\").show();\n    $(\".searchSection__main--invalid\").show();\n    $(\".header\").addClass('header--invalid');\n    $(\".footer\").addClass('footer--invalid');\n    setTimeout(function () {\n        $(\".search__bar\").removeClass('search__bar--invalid');\n        $(\".search__button\").removeClass('search__button--invalid');\n        $(\".search__limit\").removeClass('search__limit--invalid');\n        $(\".header\").removeClass('header--invalid');\n        $(\".footer\").removeClass('footer--invalid');\n        $(\".search__bar\").val('');\n    }, 1000);\n\n}\n\nfunction searchIndicator() {\n    $(\".search__button\").addClass('search__button--active');\n    $(\".search__limit\").addClass('search__limit--active');\n    $(\".header\").addClass('header--active');\n    $(\".footer\").addClass('footer--active');\n    setTimeout(function () {\n        $(\".search__button\").removeClass('search__button--active');\n        $(\".search__limit\").removeClass('search__limit--active');\n        $(\".header\").removeClass('header--active');\n        $(\".footer\").removeClass('footer--active');\n        $(\".search__bar\").val('');\n    }, 1000);\n}\n\n\nfunction checkArticleAmount() {\n    const limit = $('.search__limit').val();\n    if ($('.searchSection__articles').length < limit) {\n        const searchWords = $('.search__bar').val();\n        searchArticles(searchWords, appendNewArticle);\n    }\n    setTimeout(checkArticleAmount, 1000);\n}\n\n\nvar deletedArticles = 1;\n\nfunction appendNewArticle(data) {\n    var newArticleAmountCounter = Number($('.search__limit').val()) + deletedArticles;\n    let element = data.documents[newArticleAmountCounter];\n    let template = newArticleTemplate(element);\n    $(template).appendTo(\".searchSection\"),\n        $(\"header\").attr({\n            onclick: '$(this).closest(\".searchSection__articles\").remove()'\n        })\n    deletedArticles++;\n}\n\nfunction searchArticles(searchWords, callback) {\n    $(\".searchSection__articles--invalid\").hide();\n    $(\".searchSection__main--invalid\").hide();\n    const username = $('.login__username').val();\n    const password = $('.login__password').val();\n    data = $.get({\n        url: \"https://thawing-ridge-63424.herokuapp.com/api/search?term=\" + encodeURI(searchWords),\n        beforeSend: function (apiCredentials) {\n            apiCredentials.setRequestHeader(\"Authorization\", \"Basic \" + btoa(username + \":\" + password));\n        },\n        success: function (data) {\n            callback(data);\n        },\n        statusCode: {\n            400: function () {\n                errorMessage();\n            },\n            401: function () {\n                errorMessage();\n            },\n            500: function () {\n                errorMessage();\n            }\n        }\n    });\n}"]}