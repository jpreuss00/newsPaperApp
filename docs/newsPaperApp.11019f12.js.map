{"version":3,"sources":["index.js"],"names":["handleLogin","username","$","val","password","get","url","statusCode","addClass","removeClass","fadeOut","show","beforeSend","apiCredentials","setRequestHeader","btoa","newArticleTemplate","element","title","pubDate","description","link","appendArticlesToList","data","searchLimit","pagination","total","i","template","documents","appendTo","attr","onclick","searchIndicator","errorMessage","handleSearch","searchWords","limit","remove","hide","searchArticles","setTimeout","checkArticleAmount","length","appendNewArticle","document","ready","click","keydown","enterKey","keyCode","enteredKey","focus","deletedArticles","newArticleAmountCounter","Number","category","callback","encodeURI","success"],"mappings":";AA4CA,SAASA,IACCC,IAAAA,EAAWC,EAAE,oBAAoBC,MACjCC,EAAWF,EAAE,oBAAoBC,MACvCD,EAAEG,IAAI,CACFC,IAAK,uDACLC,WAAY,CACH,IAAA,WACDL,EAAE,UAAUM,SAAS,kBACrBN,EAAE,WAAWM,SAAS,mBACtBN,EAAE,WAAWM,SAAS,mBACtBN,EAAE,oBAAoBM,SAAS,4BAC/BN,EAAE,oBAAoBM,SAAS,4BAC/BN,EAAE,yBAAyBM,SAAS,iCACpCN,EAAE,oBAAoBC,IAAI,IAC1BD,EAAE,oBAAoBC,IAAI,KAEzB,IAAA,WACYD,EAAE,UAAUO,YAAY,kBACxBP,EAAE,oBAAoBO,YAAY,4BAClCP,EAAE,oBAAoBO,YAAY,4BAClCP,EAAE,yBAAyBO,YAAY,iCACvCP,EAAE,WAAWO,YAAY,mBACzBP,EAAE,WAAWO,YAAY,mBACzBP,EAAE,UAAUQ,QAAQ,WAChBR,EAAE,kBAAkBS,WAI7CC,WAAY,SAAUC,GAClBA,EAAeC,iBAAiB,gBAAiB,SAAWC,KAAKd,EAAW,IAAMG,OAK9F,SAASY,EAAmBC,GACqEA,MAAAA,sFAAAA,OAAAA,EAAQC,MAAiBD,aAAAA,OAAAA,EAAQE,QAA2DF,qDAAAA,OAAAA,EAAQG,YAAoFH,0EAAAA,OAAAA,EAAQI,KAA7R,mDAGJ,SAASC,EAAqBC,GAEtBC,IAAAA,EAActB,EAAE,kBAAkBC,MAElCoB,GAAyB,GAAzBA,EAAKE,WAAWC,OAAcF,EAAc,EAAG,CAI1CG,IAHDH,EAAc,KACdA,EAAc,IAEbG,EAAI,EAAGA,EAAIH,EAAaG,IAAK,CAC1BV,IACAW,EAAWZ,EADDO,EAAKM,UAAUF,IAG7BzB,EAAE0B,GAAUE,SAAS,kBACjB5B,EAAE,UAAU6B,KAAK,CACbC,QAAS,yDAGrBC,SAEAC,IAIR,SAASC,IAECC,IAAAA,EAAclC,EAAE,gBAAgBC,MAChCkC,EAAQnC,EAAE,kBAAkBC,MAGlCD,EAAE,4BAA4BoC,SAC9BpC,EAAE,qCAAqCqC,OACvCrC,EAAE,iCAAiCqC,OAEnCC,EAAeJ,EANE,GAMqBC,EAAOf,GAKjD,SAASY,IACLhC,EAAE,gBAAgBM,SAAS,wBAC3BN,EAAE,mBAAmBM,SAAS,2BAC9BN,EAAE,kBAAkBM,SAAS,0BAC7BN,EAAE,qCAAqCS,OACvCT,EAAE,iCAAiCS,OACnCT,EAAE,WAAWM,SAAS,mBACtBN,EAAE,WAAWM,SAAS,mBACtBiC,WAAW,WACPvC,EAAE,gBAAgBO,YAAY,wBAC9BP,EAAE,mBAAmBO,YAAY,2BACjCP,EAAE,kBAAkBO,YAAY,0BAChCP,EAAE,WAAWO,YAAY,mBACzBP,EAAE,WAAWO,YAAY,mBACzBP,EAAE,gBAAgBC,IAAI,KACvB,KAIP,SAAS8B,IACL/B,EAAE,mBAAmBM,SAAS,0BAC9BN,EAAE,kBAAkBM,SAAS,yBAC7BN,EAAE,WAAWM,SAAS,kBACtBN,EAAE,WAAWM,SAAS,kBACtBiC,WAAW,WACPvC,EAAE,mBAAmBO,YAAY,0BACjCP,EAAE,kBAAkBO,YAAY,yBAChCP,EAAE,WAAWO,YAAY,kBACzBP,EAAE,WAAWO,YAAY,kBACzBP,EAAE,gBAAgBC,IAAI,KACvB,KAIP,SAASuC,IACCL,IAAAA,EAAQnC,EAAE,kBAAkBC,MAC9BD,EAAE,4BAA4ByC,OAASN,GAEvCG,EADoBtC,EAAE,gBAAgBC,MACVyC,GAEhCH,WAAWC,EAAoB,KAhKnCxC,EAAE2C,UAAUC,MAAM,WAGd5C,EAAE,iBAAiBS,OACnBT,EAAE,kBAAkBqC,OACpBrC,EAAE,4BAA4BqC,OAC9BrC,EAAE,qCAAqCqC,OACvCrC,EAAE,iCAAiCqC,OAGnCrC,EAAE,yBAAyB6C,MAAM/C,GACjCE,EAAE,mBAAmB6C,MAAMZ,GAG3BjC,EAAE,oBAAoB8C,QAAQ,SAAUC,GACZ,IAApBA,EAASC,SACTlD,MAGRE,EAAE,oBAAoB8C,QAAQ,SAAUC,GACZ,IAApBA,EAASC,SACTlD,MAGRE,EAAE,oBAAoB8C,QAAQ,SAAUG,GACV,IAAtBA,EAAWD,SACXhD,EAAE,oBAAoBkD,UAG9BlD,EAAE,oBAAoB8C,QAAQ,SAAUG,GACV,IAAtBA,EAAWD,QACXhD,EAAE,yBAAyBkD,QACE,IAAtBD,EAAWD,SAClBhD,EAAE,oBAAoBkD,UAG9BlD,EAAE,yBAAyB8C,QAAQ,SAAUG,GACf,IAAtBA,EAAWD,SACXhD,EAAE,oBAAoBkD,YA8HlC,IAAIC,EAAkB,EAEtB,SAAST,EAAiBrB,GAClB+B,IAAAA,EAA0BC,OAAOrD,EAAE,kBAAkBC,OAASkD,EAE9DzB,EAAWZ,EADDO,EAAKM,UAAUyB,IAE7BpD,EAAE0B,GAAUE,SAAS,kBACjB5B,EAAE,UAAU6B,KAAK,CACbC,QAAS,yDAEjBqB,IAGJ,SAASb,EAAeJ,EAAaoB,EAAUnB,EAAOoB,GAClDvD,EAAE,qCAAqCqC,OACvCrC,EAAE,iCAAiCqC,OAC7BtC,IAAAA,EAAWC,EAAE,oBAAoBC,MACjCC,EAAWF,EAAE,oBAAoBC,MACvCoB,KAAOrB,EAAEG,IAAI,CACTC,IAAK,6DAA+DoD,UAAUtB,GAAe,aAAeoB,EAAW,UAAYnB,EACnIzB,WAAY,SAAUC,GAClBA,EAAeC,iBAAiB,gBAAiB,SAAWC,KAAKd,EAAW,IAAMG,KAEtFuD,QAAS,SAAUpC,GACfkC,EAASlC,IAEbhB,WAAY,CACH,IAAA,WACD2B,KAEC,IAAA,WACDA,KAEC,IAAA,WACDA","file":"newsPaperApp.11019f12.js","sourceRoot":"..","sourcesContent":["$(document).ready(function () {\n\n    // configure screens\n    $(\".loginSection\").show();\n    $(\".searchSection\").hide();\n    $(\".searchSection__articles\").hide();\n    $(\".searchSection__articles--invalid\").hide();\n    $(\".searchSection__main--invalid\").hide();\n\n    // register event handlers\n    $(\".login__confirmButton\").click(handleLogin);\n    $(\".search__button\").click(handleSearch);\n\n    // switch focus on input field and confirm username and password from any input field\n    $(\".login__username\").keydown(function (enterKey) {\n        if (enterKey.keyCode == 13) {\n            handleLogin();\n        }\n    })\n    $(\".login__password\").keydown(function (enterKey) {\n        if (enterKey.keyCode == 13) {\n            handleLogin();\n        }\n    })\n    $(\".login__username\").keydown(function (enteredKey) {\n        if (enteredKey.keyCode == 40) {\n            $('.login__password').focus()\n        }\n    })\n    $(\".login__password\").keydown(function (enteredKey) {\n        if (enteredKey.keyCode == 40) {\n            $('.login__confirmButton').focus()\n        } else if (enteredKey.keyCode == 38) {\n            $('.login__username').focus()\n        }\n    })\n    $(\".login__confirmButton\").keydown(function (enteredKey) {\n        if (enteredKey.keyCode == 38) {\n            $('.login__password').focus()\n        }\n    })\n\n});\n\nfunction handleLogin() {\n    const username = $('.login__username').val();\n    const password = $('.login__password').val();\n    $.get({\n        url: \"https://thawing-ridge-63424.herokuapp.com/api/search\",\n        statusCode: {\n            401: function () {\n                $(\".login\").addClass('login--invalid');\n                $(\".header\").addClass('header--invalid');\n                $(\".footer\").addClass('footer--invalid');\n                $(\".login__username\").addClass('login__username--invalid');\n                $(\".login__password\").addClass('login__password--invalid');\n                $(\".login__confirmButton\").addClass('login__confirmButton--invalid');\n                $(\".login__username\").val('');\n                $(\".login__password\").val('');\n            },\n            200: function () {\n                             $(\".login\").removeClass('login--invalid');\n                             $(\".login__username\").removeClass('login__username--invalid');\n                             $(\".login__password\").removeClass('login__password--invalid');\n                             $(\".login__confirmButton\").removeClass('login__confirmButton--invalid');\n                             $(\".header\").removeClass('header--invalid');\n                             $(\".footer\").removeClass('footer--invalid');\n                             $(\".login\").fadeOut(function () {\n                                 $(\".searchSection\").show();\n                             });\n                         }\n        },\n        beforeSend: function (apiCredentials) {\n            apiCredentials.setRequestHeader(\"Authorization\", \"Basic \" + btoa(username + \":\" + password));\n        }\n    });\n}\n\nfunction newArticleTemplate(element) {\n    return `<article class='searchSection__articles'><header class='searchSection__header'><h3>${element.title}</h3><h4>${element.pubDate}</h4></header><main class ='searchSection__main'>${element.description}</main><footer class='searchSection__footer'><a target='_blank' href='${element.link}'>Check out the Project!</a></footer></article>`;\n}\n\nfunction appendArticlesToList(data) {\n\n    var searchLimit = $('.search__limit').val();\n\n    if (data.pagination.total != 0 && searchLimit > 0) {\n        if (searchLimit > 99) {\n            searchLimit = 99\n        }\n        for (i = 0; i < searchLimit; i++) {\n            let element = data.documents[i];\n            let template = newArticleTemplate(element);\n\n            $(template).appendTo(\".searchSection\"),\n                $(\"header\").attr({\n                    onclick: '$(this).closest(\".searchSection__articles\").remove()'\n                })\n        }\n        searchIndicator();\n    } else {\n        errorMessage();\n    }\n}\n\nfunction handleSearch() {\n\n    const searchWords = $('.search__bar').val();\n    const limit = $('.search__limit').val();\n    const category = \"\";\n\n    $(\".searchSection__articles\").remove();\n    $(\".searchSection__articles--invalid\").hide();\n    $(\".searchSection__main--invalid\").hide();\n\n    searchArticles(searchWords, category, limit, appendArticlesToList);\n\n    //setTimeout(checkArticleAmount, 500);\n}\n\nfunction errorMessage() {\n    $(\".search__bar\").addClass('search__bar--invalid');\n    $(\".search__button\").addClass('search__button--invalid');\n    $(\".search__limit\").addClass('search__limit--invalid');\n    $(\".searchSection__articles--invalid\").show();\n    $(\".searchSection__main--invalid\").show();\n    $(\".header\").addClass('header--invalid');\n    $(\".footer\").addClass('footer--invalid');\n    setTimeout(function () {\n        $(\".search__bar\").removeClass('search__bar--invalid');\n        $(\".search__button\").removeClass('search__button--invalid');\n        $(\".search__limit\").removeClass('search__limit--invalid');\n        $(\".header\").removeClass('header--invalid');\n        $(\".footer\").removeClass('footer--invalid');\n        $(\".search__bar\").val('');\n    }, 1000);\n\n}\n\nfunction searchIndicator() {\n    $(\".search__button\").addClass('search__button--active');\n    $(\".search__limit\").addClass('search__limit--active');\n    $(\".header\").addClass('header--active');\n    $(\".footer\").addClass('footer--active');\n    setTimeout(function () {\n        $(\".search__button\").removeClass('search__button--active');\n        $(\".search__limit\").removeClass('search__limit--active');\n        $(\".header\").removeClass('header--active');\n        $(\".footer\").removeClass('footer--active');\n        $(\".search__bar\").val('');\n    }, 1000);\n}\n\n\nfunction checkArticleAmount() {\n    const limit = $('.search__limit').val();\n    if ($('.searchSection__articles').length < limit) {\n        const searchWords = $('.search__bar').val();\n        searchArticles(searchWords, appendNewArticle);\n    }\n    setTimeout(checkArticleAmount, 1000);\n}\n\n\nvar deletedArticles = 1;\n\nfunction appendNewArticle(data) {\n    var newArticleAmountCounter = Number($('.search__limit').val()) + deletedArticles;\n    let element = data.documents[newArticleAmountCounter];\n    let template = newArticleTemplate(element);\n    $(template).appendTo(\".searchSection\"),\n        $(\"header\").attr({\n            onclick: '$(this).closest(\".searchSection__articles\").remove()'\n        })\n    deletedArticles++;\n}\n\nfunction searchArticles(searchWords, category, limit, callback) {\n    $(\".searchSection__articles--invalid\").hide();\n    $(\".searchSection__main--invalid\").hide();\n    const username = $('.login__username').val();\n    const password = $('.login__password').val();\n    data = $.get({\n        url: \"https://thawing-ridge-63424.herokuapp.com/api/search?term=\" + encodeURI(searchWords) + \"&category=\" + category + \"&limit=\" + limit,\n        beforeSend: function (apiCredentials) {\n            apiCredentials.setRequestHeader(\"Authorization\", \"Basic \" + btoa(username + \":\" + password));\n        },\n        success: function (data) {\n            callback(data);\n        },\n        statusCode: {\n            400: function () {\n                errorMessage();\n            },\n            401: function () {\n                errorMessage();\n            },\n            500: function () {\n                errorMessage();\n            }\n        }\n    });\n}"]}